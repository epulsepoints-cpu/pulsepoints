const fs = require('fs');

// ECGkid Audio Optimization Implementation Script
// Generated: 2025-09-07T10:20:24.937Z

function optimizeAudioFiles() {
  console.log('ðŸŽ¯ Starting ECGkid Audio Optimization...');

  // Backup original CSV
  fs.copyFileSync('ECGkid-Media-Tracking-Master-Enhanced.csv', 'ECGkid-Media-Tracking-Master-Enhanced.backup.csv');
  console.log('âœ… Created backup: ECGkid-Media-Tracking-Master-Enhanced.backup.csv');

  const csvContent = fs.readFileSync('ECGkid-Media-Tracking-Master-Enhanced.csv', 'utf-8');
  const lines = csvContent.split('\n');
  let optimizedLines = [lines[0]]; // Keep header

  // Audio files to remove (generated from analysis)
  const filesToRemove = new Set([
    'acid-base-effects.mp3',
    'acute-vs-chronic.mp3',
    'catecholamine-surge.mp3',
    'clinical-integration.mp3',
    'comprehensive-assessment.mp3',
    'diagnostic-algorithm-comprehensive.mp3',
    'diagnostic-criteria.mp3',
    'electrolyte-correction.mp3',
    'emergency-management.mp3',
    'etiology-based-classification.mp3',
    'hemodynamic-classification.mp3',
    'high-risk-populations.mp3',
    'hypoxia-mechanism.mp3',
    'lead-selection-analysis.mp3',
    'long-term-management.mp3',
    'mat-definition.mp3',
    'mat-mastery-complete.mp3',
    'mat-triggers.mp3',
    'mat-vs-afib-recognition.mp3',
    'mat-vs-wap.mp3',
    'measurement-standards.mp3',
    'medication-contributions.mp3',
    'multiple-foci-competition.mp3',
    'oxygenation-ventilation.mp3',
    'p-wave-recognition.mp3',
    'pathophysiology.mp3',
    'pr-interval-variability.mp3',
    'primary-treatment-principles.mp3',
    'prognosis-overview.mp3',
    'prognostic-classification.mp3',
    'rate-assessment-mat.mp3',
    'rate-control-options.mp3',
    'recognition-pitfalls.mp3',
    'refractory-period-changes.mp3',
    'severity-classification.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit2-quiz.mp3',
    'unit3-intro.mp3',
    'unit3-quiz.mp3',
    'unit4-intro.mp3',
    'unit4-quiz.mp3',
    'unit5-intro.mp3',
    'unit5-quiz.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'vicious-cycle.mp3',
    'vs-atrial-fibrillation-detailed.mp3',
    'vs-atrial-flutter-with-block.mp3',
    'vs-junctional-tachycardia.mp3',
    'vs-sinus-tach-with-pacs.mp3',
    'vs-wandering-atrial-tachycardia.mp3',
    'what-not-to-do.mp3',
    'who-develops-mat.mp3',
    'who-gets-mat.mp3',
    'why-mat-matters.mp3',
    'arrest-definition.mp3',
    'artifact-vs-real.mp3',
    'backup-systems.mp3',
    'clinical-integration.mp3',
    'common-causes.mp3',
    'comprehensive-assessment.mp3',
    'documentation-standards.mp3',
    'duration-measurement.mp3',
    'electrical-failure-mechanism.mp3',
    'emergency-management.mp3',
    'escape-beat-identification.mp3',
    'frequency-assessment.mp3',
    'hemodynamic-effects.mp3',
    'hemodynamic-impact.mp3',
    'mastery-complete.mp3',
    'measurement-mastery.mp3',
    'measurement-technique.mp3',
    'medication-effects.mp3',
    'medication-review.mp3',
    'monitoring-strategies.mp3',
    'multi-lead-analysis.mp3',
    'normal-vs-abnormal.mp3',
    'pacemaker-options.mp3',
    'pause-vs-arrest.mp3',
    'quality-of-life.mp3',
    'reversible-causes.mp3',
    'rhythm-context.mp3',
    'risk-factors.mp3',
    'severity-grading.mp3',
    'sick-sinus-syndrome.mp3',
    'sinus-node-anatomy.mp3',
    'symptom-correlation.mp3',
    'symptom-spectrum.mp3',
    'syncope-mechanism.mp3',
    'systematic-approach.mp3',
    'terminology-clarification.mp3',
    'treatment-decision-tree.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit2-quiz.mp3',
    'unit3-intro.mp3',
    'unit3-quiz.mp3',
    'unit4-intro.mp3',
    'unit4-quiz.mp3',
    'unit5-intro.mp3',
    'unit5-quiz.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'vagal-influence.mp3',
    'visual-pattern-recognition.mp3',
    'autonomic-dysfunction.mp3',
    'brady-only-form.mp3',
    'chronotropic-form.mp3',
    'chronotropic-incompetence.mp3',
    'compensatory-mechanisms.mp3',
    'diagnostic-algorithm-sss.mp3',
    'emergency-management.mp3',
    'fibrosis-process.mp3',
    'holter-findings.mp3',
    'ischemic-damage.mp3',
    'long-term-prognosis.mp3',
    'measurement-techniques.mp3',
    'medication-considerations.mp3',
    'medication-effects.mp3',
    'pacemaker-indications.mp3',
    'pacemaker-type-selection.mp3',
    'reversible-vs-permanent.mp3',
    'sa-exit-block.mp3',
    'severe-bradycardia-pattern.mp3',
    'severity-grading.mp3',
    'sinus-node-anatomy.mp3',
    'sinus-pause-arrest.mp3',
    'spectrum-overview.mp3',
    'sss-definition.mp3',
    'sss-mastery-complete.mp3',
    'symptoms-overview.mp3',
    'tachy-brady-form.mp3',
    'tachy-brady-management.mp3',
    'tachy-brady-mechanism.mp3',
    'tachy-brady-recognition.mp3',
    'type-1-intrinsic.mp3',
    'type-2-extrinsic.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit2-quiz.mp3',
    'unit3-intro.mp3',
    'unit3-quiz.mp3',
    'unit4-intro.mp3',
    'unit4-quiz.mp3',
    'unit5-intro.mp3',
    'unit5-quiz.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'vs-av-blocks.mp3',
    'vs-hypothyroidism.mp3',
    'vs-medication-effects.mp3',
    'vs-normal-bradycardia.mp3',
    'vs-sleep-apnea.mp3',
    'who-gets-sss.mp3',
    'why-dangerous.mp3',
    'management-mastery-celebration.mp3',
    'morphology-mastery.mp3',
    'vt-mastery-celebration.mp3',
    'acute-management.mp3',
    'antiarrhythmic-drugs.mp3',
    'av-dissociation.mp3',
    'brugada-criteria.mp3',
    'bundle-patterns.mp3',
    'cardioversion.mp3',
    'catheter-ablation.mp3',
    'clinical-context-overview.mp3',
    'clinical-context.mp3',
    'clinical-presentation.mp3',
    'clinical-quiz.mp3',
    'clinical-significance.mp3',
    'concordance-analysis.mp3',
    'differential-overview.mp3',
    'differential-quiz.mp3',
    'epidemiology.mp3',
    'foundation-quiz.mp3',
    'genetic-factors.mp3',
    'hemodynamic-correlation.mp3',
    'hemodynamic-effects.mp3',
    'icd-therapy.mp3',
    'long-term-management.mp3',
    'management-overview.mp3',
    'management-quiz.mp3',
    'monomorphic-vt.mp3',
    'morphology-clues.mp3',
    'morphology-criteria.mp3',
    'morphology-overview.mp3',
    'morphology-quiz.mp3',
    'polymorphic-vt.mp3',
    'practical-approach.mp3',
    'precipitating-factors.mp3',
    'prognosis-outcomes.mp3',
    'qrs-axis.mp3',
    'rate-assessment-overview.mp3',
    'rate-documentation.mp3',
    'rate-measurement.mp3',
    'rate-quiz.mp3',
    'rate-variability.mp3',
    'risk-stratification.mp3',
    'sudden-death-risk.mp3',
    'underlying-conditions.mp3',
    'vt-classification.mp3',
    'vt-definition.mp3',
    'vt-foundation.mp3',
    'vt-mechanisms.mp3',
    'vt-rate-ranges.mp3',
    'vt-vs-svt.mp3',
    'advanced-recognition.mp3',
    'atrial-anatomy.mp3',
    'automaticity-principles.mp3',
    'autonomic-influences.mp3',
    'benign-nature.mp3',
    'clinical-integration.mp3',
    'common-mistakes.mp3',
    'common-populations.mp3',
    'comprehensive-assessment.mp3',
    'contextual-features.mp3',
    'cycle-length-variability.mp3',
    'diagnostic-algorithm-wap.mp3',
    'diagnostic-criteria.mp3',
    'diagnostic-flowchart.mp3',
    'differential-matrix.mp3',
    'documentation-best-practices.mp3',
    'lead-specific-changes.mp3',
    'measurement-techniques.mp3',
    'morphology-patterns.mp3',
    'overdrive-suppression.mp3',
    'p-wave-morphology-analysis.mp3',
    'p-wave-morphology-genesis.mp3',
    'pacemaker-hierarchy.mp3',
    'patient-counseling.mp3',
    'pr-interval-variations.mp3',
    'prognostic-implications.mp3',
    'rate-assessment.mp3',
    'systematic-recognition.mp3',
    'timing-characteristics.mp3',
    'transition-patterns.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit2-quiz.mp3',
    'unit3-intro.mp3',
    'unit3-quiz.mp3',
    'unit4-intro.mp3',
    'unit4-quiz.mp3',
    'unit5-intro.mp3',
    'unit5-quiz.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'variants-and-subtypes.mp3',
    'vs-sinus-arrhythmia.mp3',
    'wap-definition.mp3',
    'wap-mastery-complete.mp3',
    'wap-vs-wat.mp3',
    'when-to-investigate.mp3',
    'why-it-happens.mp3',
    'age-related-changes.mp3',
    'age-related-features.mp3',
    'arrhythmia-definition.mp3',
    'autonomic-nervous-system.mp3',
    'breath-holding-test.mp3',
    'breathing-connection.mp3',
    'clinical-integration.mp3',
    'comprehensive-assessment.mp3',
    'diagnostic-algorithm.mp3',
    'documentation-tips.mp3',
    'exercise-response.mp3',
    'expiration-mechanism.mp3',
    'inspiration-mechanism.mp3',
    'mastery-complete.mp3',
    'measurement-technique.mp3',
    'normal-finding.mp3',
    'normal-vs-abnormal.mp3',
    'p-wave-consistency.mp3',
    'patient-education.mp3',
    'pattern-prediction.mp3',
    'pr-interval-stability.mp3',
    'prognostic-significance.mp3',
    'qrs-morphology.mp3',
    'rate-characteristics.mp3',
    'respiratory-sinus-interaction.mp3',
    'rhythm-characteristics.mp3',
    'terminology-clarity.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit2-quiz.mp3',
    'unit3-intro.mp3',
    'unit3-quiz.mp3',
    'unit4-intro.mp3',
    'unit4-quiz.mp3',
    'unit5-intro.mp3',
    'unit5-quiz.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'vagal-tone-importance.mp3',
    'visual-pattern-recognition.mp3',
    'vs-atrial-fibrillation.mp3',
    'vs-premature-beats.mp3',
    'vs-second-degree-block.mp3',
    'vs-sinus-pause.mp3',
    'vs-wandering-pacemaker.mp3',
    'when-to-investigate.mp3',
    'who-has-it.mp3',
    'acute-management.mp3',
    'atrial-vs-ventricular.mp3',
    'cardioversion-role.mp3',
    'clinical-context-overview.mp3',
    'clinical-correlation.mp3',
    'clinical-presentation.mp3',
    'clinical-quiz.mp3',
    'clinical-significance.mp3',
    'common-pitfalls.mp3',
    'counting-morphologies.mp3',
    'diagnostic-criteria.mp3',
    'diagnostic-pearls.mp3',
    'differential-overview.mp3',
    'differential-quiz.mp3',
    'epidemiology.mp3',
    'foundation-quiz.mp3',
    'hospital-implications.mp3',
    'irregularity-assessment.mp3',
    'isoelectric-baseline.mp3',
    'management-overview.mp3',
    'management-quiz.mp3',
    'mat-definition.mp3',
    'mat-foundation.mp3',
    'mat-vs-afib.mp3',
    'mat-vs-flutter.mp3',
    'mat-vs-pacs.mp3',
    'mat-vs-wandering.mp3',
    'measurement-techniques.mp3',
    'medication-considerations.mp3',
    'monitoring-follow-up.mp3',
    'morphology-variations.mp3',
    'multifocal-mechanism.mp3',
    'p-wave-analysis.mp3',
    'p-wave-quiz.mp3',
    'p-wave-recognition-overview.mp3',
    'patient-demographics.mp3',
    'pr-variations.mp3',
    'precipitating-factors.mp3',
    'primary-strategy.mp3',
    'prognosis-outcomes.mp3',
    'rate-analysis-overview.mp3',
    'rate-control.mp3',
    'rate-definition.mp3',
    'rate-quiz.mp3',
    'rate-variability.mp3',
    'systematic-approach.mp3',
    'underlying-conditions.mp3',
    'underlying-diseases.mp3',
    'mastery-celebration.mp3',
    'aberrant-conduction.mp3',
    'benign-causes.mp3',
    'cellular-basis.mp3',
    'clinical-overview.mp3',
    'conduction-patterns.mp3',
    'conservative-management.mp3',
    'coupling-intervals.mp3',
    'diagnostic-algorithm.mp3',
    'differential-overview.mp3',
    'drug-effects.mp3',
    'escape-beats.mp3',
    'hemodynamic-impact.mp3',
    'initial-assessment.mp3',
    'intervention-indications.mp3',
    'junctional-anatomy.mp3',
    'management-celebration.mp3',
    'management-overview.mp3',
    'measurement-techniques.mp3',
    'mechanisms-overview.mp3',
    'monitoring-strategies.mp3',
    'morphology-variants.mp3',
    'p-wave-patterns.mp3',
    'pathologic-associations.mp3',
    'pattern-recognition.mp3',
    'pause-analysis.mp3',
    'pharmacologic-intervention.mp3',
    'pjc-mechanisms-detailed.mp3',
    'pjc-vs-pac.mp3',
    'pjc-vs-pvc.mp3',
    'pr-interval-analysis.mp3',
    'premature-mechanism.mp3',
    'prognostic-implications.mp3',
    'qrs-characteristics.mp3',
    'recognition-overview.mp3',
    'rhythm-interactions.mp3',
    'timing-analysis-detailed.mp3',
    'timing-analysis.mp3',
    'timing-overview.mp3',
    'triggering-factors.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'ajr-management-mastery.mp3',
    'ajr-mastery-celebration.mp3',
    'accelerated-range.mp3',
    'ajr-differential-diagnosis.mp3',
    'automaticity-basics.mp3',
    'cause-specific-treatment.mp3',
    'cellular-mechanisms.mp3',
    'clinical-causes-overview.mp3',
    'clinical-causes.mp3',
    'comparison-overview.mp3',
    'competition-patterns.mp3',
    'digitalis-toxicity.mp3',
    'ecg-recognition-overview.mp3',
    'ecg-recognition.mp3',
    'electrolyte-imbalances.mp3',
    'enhanced-automaticity-mechanisms.mp3',
    'enhanced-automaticity-overview.mp3',
    'enhanced-automaticity.mp3',
    'enhanced-triggers.mp3',
    'initial-assessment.mp3',
    'ischemic-causes.mp3',
    'junctional-classification.mp3',
    'management-overview.mp3',
    'measurement-precision.mp3',
    'monitoring-followup.mp3',
    'other-causes.mp3',
    'p-wave-analysis.mp3',
    'qrs-morphology.mp3',
    'rate-criteria-overview.mp3',
    'rate-criteria.mp3',
    'rate-variability.mp3',
    'rhythm-regularity.mp3',
    'suppression-override.mp3',
    'symptomatic-management.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'vs-atrial-flutter.mp3',
    'vs-escape-rhythm.mp3',
    'vs-junctional-tachycardia.mp3',
    'vs-normal-junctional.mp3',
    'vs-sinus-bradycardia.mp3',
    'junctional-tachycardia-mastery.mp3',
    'mastery-celebration.mp3',
    'acute-management.mp3',
    'adult-triggers.mp3',
    'automatic-mechanism.mp3',
    'automatic-vs-reentrant.mp3',
    'av-dissociation.mp3',
    'cause-specific-treatment.mp3',
    'clinical-clues.mp3',
    'clinical-management.mp3',
    'clinical-presentation-overview.mp3',
    'clinical-spectrum.mp3',
    'differential-overview.mp3',
    'ecg-features.mp3',
    'ecg-recognition-overview.mp3',
    'hemodynamic-consequences.mp3',
    'hemodynamic-impact.mp3',
    'initial-assessment.mp3',
    'junctional-tachycardia-differential.mp3',
    'junctional-tachycardia-mechanisms.mp3',
    'management-overview.mp3',
    'mechanism-comparison.mp3',
    'mechanism-overview.mp3',
    'p-wave-patterns.mp3',
    'pacemaker-dominance.mp3',
    'pediatric-presentation.mp3',
    'qrs-characteristics.mp3',
    'rate-definition.mp3',
    'reentrant-mechanism.mp3',
    'rhythm-regularity.mp3',
    'specialized-therapies.mp3',
    'symptom-spectrum.mp3',
    'tachycardia-definition.mp3',
    'tachycardia-overview.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'vs-atrial-tachycardia.mp3',
    'vs-avnrt.mp3',
    'vs-avrt.mp3',
    'vs-sinus-tachycardia.mp3',
    'vs-svt.mp3',
    'mastery-celebration.mp3',
    'action-potentials.mp3',
    'anatomy-overview.mp3',
    'atrial-conduction.mp3',
    'av-node-anatomy.mp3',
    'av-node-function.mp3',
    'classification-overview.mp3',
    'clinical-overview.mp3',
    'complete-block-mechanisms.mp3',
    'conduction-timing.mp3',
    'conduction-velocity.mp3',
    'congenital-disorders.mp3',
    'degenerative-processes.mp3',
    'diagnostic-overview.mp3',
    'drug-induced-blocks.mp3',
    'ecg-analysis-steps.mp3',
    'electrophysiology-study.mp3',
    'exercise-testing.mp3',
    'first-degree-definition.mp3',
    'hemodynamic-effects.mp3',
    'hemodynamic-impact-detailed.mp3',
    'his-purkinje-system.mp3',
    'holter-monitoring.mp3',
    'inflammatory-causes.mp3',
    'ischemic-mechanisms.mp3',
    'measurement-techniques.mp3',
    'mobitz-type-1.mp3',
    'mobitz-type-2.mp3',
    'pathophysiology-overview.mp3',
    'physiology-overview.mp3',
    'prognostic-factors.mp3',
    'quality-of-life.mp3',
    'refractory-periods.mp3',
    'risk-stratification.mp3',
    'sa-node-structure.mp3',
    'second-degree-overview.mp3',
    'symptom-spectrum.mp3',
    'third-degree-complete.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'ventricular-activation.mp3',
    'differential-mastery.mp3',
    'management-mastery.mp3',
    'mastery-celebration.mp3',
    'mastery-overview.mp3',
    'recognition-mastery.mp3',
    'accelerated-patterns.mp3',
    'atrial-vs-junctional.mp3',
    'av-block-patterns.mp3',
    'av-dissociation.mp3',
    'bundle-block-mechanisms.mp3',
    'cardioversion-considerations.mp3',
    'case-bradycardia.mp3',
    'case-dissociation.mp3',
    'case-drug-induced.mp3',
    'case-premature-beats.mp3',
    'case-tachycardia.mp3',
    'competency-validation.mp3',
    'complex-overview.mp3',
    'decision-overview.mp3',
    'diagnostic-algorithm.mp3',
    'differential-overview.mp3',
    'emergency-overview.mp3',
    'escape-mechanisms.mp3',
    'hemodynamic-assessment.mp3',
    'immediate-assessment.mp3',
    'integration-challenge.mp3',
    'monitoring-strategies.mp3',
    'pacing-indications.mp3',
    'pharmacologic-interventions.mp3',
    'premature-contractions.mp3',
    'reversible-causes.mp3',
    'sinus-vs-junctional.mp3',
    'spectrum-overview.mp3',
    'tachycardia-spectrum.mp3',
    'temporary-pacing.mp3',
    'transcutaneous-pacing.mp3',
    'treatment-algorithms.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'ventricular-escape.mp3',
    'wide-qrs-differential.mp3',
    'junctional-mastery-celebration.mp3',
    'mastery-celebration-expert.mp3',
    'absent-p-waves.mp3',
    'assessment-approach.mp3',
    'automaticity-concept.mp3',
    'av-dissociation.mp3',
    'av-junction-anatomy.mp3',
    'clinical-significance-overview.mp3',
    'conservative-management.mp3',
    'differential-diagnosis-expert.mp3',
    'differential-features.mp3',
    'ecg-recognition-overview.mp3',
    'escape-mechanism-overview.mp3',
    'escape-trigger.mp3',
    'hemodynamic-correlation.mp3',
    'inherent-rate.mp3',
    'inverted-p-waves.mp3',
    'management-overview.mp3',
    'measurement-techniques.mp3',
    'p-wave-overview.mp3',
    'pacemaker-hierarchy.mp3',
    'pacing-indications.mp3',
    'pharmacological-intervention.mp3',
    'preceding-p-waves.mp3',
    'prognosis-outcomes.mp3',
    'protective-mechanism.mp3',
    'qrs-characteristics.mp3',
    'rate-analysis-overview.mp3',
    'rate-range.mp3',
    'rate-variability.mp3',
    'rhythm-regularity.mp3',
    'symptomatic-presentation.mp3',
    'underlying-causes.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'unit4-quiz.mp3',
    'unit5-quiz.mp3',
    'unit6-quiz.mp3',
    'afib-mastery-complete.mp3',
    'mastery-celebration.mp3',
    'unit1-intro.mp3',
    'unit2-intro.mp3',
    'unit3-intro.mp3',
    'advanced-afib-recognition-audio.mp3',
    'afib-consequences.mp3',
    'afib-definition.mp3',
    'afib-foundation-review.mp3',
    'afib-mimics.mp3',
    'afib-prevalence.mp3',
    'afib-rate-classification.mp3',
    'afib-types-progression.mp3',
    'atrial-remodeling.mp3',
    'electrical-chaos.mp3',
    'fibrillatory-waves.mp3',
    'hemodynamic-impact.mp3',
    'instant-recognition.mp3',
    'irregularly-irregular.mp3',
    'lead-selection.mp3',
    'measurement-pearls.mp3',
    'normal-vs-afib.mp3',
    'pathophysiology-deep-dive.mp3',
    'pulmonary-vein-role.mp3',
    'reentry-mechanisms.mp3',
    'rr-interval-analysis.mp3',
    'subtle-afib-features.mp3',
    'triggers-substrate.mp3',
    'unit1-quiz.mp3',
    'unit2-quiz.mp3',
    'unit3-quiz.mp3',
    'comprehensive-assessment-1.mp3',
    'comprehensive-assessment-2.mp3',
    'comprehensive-assessment-3.mp3',
    'diagnostic-criteria.mp3',
    'ectopic-focus-development.mp3',
    'lifestyle-modifications.mp3',
    'management-algorithm.mp3',
    'medical-therapy.mp3',
    'p-wave-analysis.mp3',
    'pac-definition.mp3',
    'pattern-types.mp3',
    'prevalence.mp3',
    'recognition-checklist.mp3',
    'significance-overview.mp3',
    'symptom-assessment.mp3',
    'unit1-intro.mp3',
    'unit1-quiz.mp3',
    'unit2-intro.mp3',
    'unit4-intro.mp3',
    'unit5-intro.mp3',
    'unit6-intro.mp3',
    'unit6-quiz.mp3',
    'unit1-intro-narration.mp3',
    'unit2-intro-narration.mp3',
    'unit3-intro-narration.mp3',
    'unit4-intro-narration.mp3',
    'av-node-anatomy-narration.mp3',
    'avnrt-definition-narration.mp3',
    'avnrt-vs-avrt-narration.mp3',
    'chronic-management-narration.mp3',
    'emergency-protocols-narration.mp3',
    'initiation-mechanism-narration.mp3',
    'long-term-prognosis-narration.mp3',
    'narrow-qrs-differential-narration.mp3',
    'p-wave-analysis-narration.mp3',
    'pathway-properties-narration.mp3',
    'pregnancy-considerations-narration.mp3',
    'reentry-circuit-narration.mp3',
    'typical-avnrt-pattern-narration.mp3',
    'unit1-quiz-narration.mp3',
    'unit5-quiz-narration.mp3',
    'unit6-quiz-narration.mp3',
    'vagal-maneuvers-narration.mp3',
    'aivr-intro.mp3',
    'aivr-mastery.mp3',
    'expert-mastery-celebration.mp3',
    'mastery-celebration.mp3',
    'aivr-characteristics.mp3',
    'aivr-management.mp3',
    'block-mechanisms.mp3',
    'clinical-associations.mp3',
    'clinical-significance.mp3',
    'enhanced-automaticity.mp3',
    'fusion-capture.mp3',
    'hemodynamic-tolerance.mp3',
    'expert-mastery-celebration.mp3',
    'stemi-fundamentals-intro.mp3',
    'stemi-introduction.mp3',
    'stemi-mastery.mp3',
    'anterior-stemi.mp3',
    'emergency-communication.mp3',
    'inferior-stemi.mp3',
    'lateral-stemi.mp3',
    'reciprocal-changes.mp3',
    'st-elevation-criteria.mp3',
    'st-elevation-criteria.mp3',
    'time-critical-action.mp3',
    'mastery-celebration.mp3',
    'ventricular-intro.mp3',
    'av-dissociation-differential.mp3',
    'av-dissociation-mechanisms.mp3',
    'clinical-significance.mp3',
    'module5-foundation.mp3',
    'pacemaker-hierarchy.mp3',
    'recognition-keys.mp3',
    'ventricular-anatomy.mp3',
    'ventricular-rates.mp3',
    'wide-qrs-recognition.mp3',
    'escape-intro.mp3',
    'mastery-celebration.mp3',
    'clinical-presentation.mp3',
    'clinical-scenarios.mp3',
    'escape-characteristics.mp3',
    'escape-mechanism.mp3',
    'escape-protection.mp3',
    'hemodynamic-effects.mp3',
    'hemodynamic-effects.mp3',
    'management-approach.mp3',
    'qrs-morphology.mp3',
    'expert-mastery-celebration.mp3',
    'vt-intro.mp3',
    'vt-mastery.mp3',
    'clinical-implications.mp3',
    'clinical-presentation.mp3',
    'emergency-management.mp3',
    'hemodynamic-effects.mp3',
    'lbbb-pathophysiology.mp3',
    'vt-characteristics.mp3',
    'vt-mechanisms.mp3',
    'vt-types.mp3',
    'expert-mastery-celebration.mp3',
    'vf-intro.mp3',
    'vf-mastery.mp3',
    'clinical-implications.mp3',
    'clinical-presentation.mp3',
    'immediate-treatment.mp3',
    'rbbb-pathophysiology.mp3',
    'survival-factors.mp3',
    'vf-mechanism.mp3',
    'vf-recognition.mp3',
    'vf-types.mp3',
    'expert-mastery-celebration.mp3',
    'pvc-intro.mp3',
    'pvc-mastery.mp3',
    'clinical-significance.mp3',
    'clinical-significance.mp3',
    'compensatory-pause.mp3',
    'fascicular-pathophysiology.mp3',
    'pvc-characteristics.mp3',
    'pvc-frequency.mp3',
    'pvc-management.mp3',
    'pvc-morphology.mp3',
    'expert-mastery-celebration.mp3',
    'pattern-mastery.mp3',
    'patterns-intro.mp3',
    'axis-analysis.mp3',
    'bigeminy-trigeminy.mp3',
    'clinical-significance.mp3',
    'couplets-runs.mp3',
    'ivcd-pathophysiology.mp3',
    'morphology-analysis.mp3',
    'pattern-recognition.mp3',
    'risk-stratification.mp3',
    'nstemi-fundamentals-intro.mp3',
    'nstemi-introduction.mp3',
    'nstemi-mastery.mp3',
    'dynamic-changes.mp3',
    'risk-stratification.mp3',
    'st-depression-patterns.mp3',
    'st-depression-patterns.mp3',
    't-wave-inversions.mp3',
    'treatment-timing.mp3',
    'troponin-integration.mp3',
    'wellens-syndrome.mp3',
    'acs-mastery-achievement.mp3',
    'clinical-integration-mastery.mp3',
    'mastery-celebration.mp3',
    'mastery-introduction.mp3',
    'complication-recognition.mp3',
    'module-9-completion.mp3',
    'nstemi-risk-stratification.mp3',
    'stemi-emergency-recognition.mp3',
    'stemi-mimic-differentiation.mp3',
    'territory-vessel-correlation.mp3',
    'wellens-syndrome-recognition.mp3',
    '1500-rule-precise.mp3',
    '1500-rule-technique.mp3',
    '300-rule-basics.mp3',
    '300-rule-practice.mp3',
    '300-rule-walkthrough.mp3',
    '6-second-method-basics.mp3',
    'clinical-significance.mp3',
    'rate-calculation-intro.mp3',
    'rate-mastery-celebration.mp3',
    'shockable-rhythms-intro.mp3',
    'vf-vt-mastery.mp3',
    'coarse-vs-fine-vf.mp3',
    'immediate-defibrillation.mp3',
    'post-shock-protocol.mp3',
    'pulseless-vt.mp3',
    'refractory-vf-vt.mp3',
    'survival-factors.mp3',
    'vf-recognition.mp3',
    'torsades-mastery.mp3',
    'drug-avoidance.mp3',
    'electrolyte-correction.mp3',
    'hemodynamic-instability.mp3',
    'magnesium-treatment.mp3',
    'overdrive-pacing.mp3',
    'polymorphic-pattern.mp3',
    'qt-prolongation-trigger.mp3',
    'torsades-definition.mp3',
    'acls-mastery.mp3',
    'acls-team-roles.mp3',
    'cpr-quality-metrics.mp3',
    'medication-timing.mp3',
    'post-rosc-care.mp3',
    'reversible-causes-hs-ts.mp3',
    'rhythm-algorithm-selection.mp3',
    'systematic-approach.mp3',
    'team-communication.mp3',
    'antiarrhythmic-mastery.mp3',
    'amiodarone-special-case.mp3',
    'class-i-effects.mp3',
    'class-ii-beta-blockers.mp3',
    'class-iii-potassium-blockers.mp3',
    'class-iv-calcium-blockers.mp3',
    'monitoring-strategy.mp3',
    'proarrhythmic-effects.mp3',
    'vaughan-williams-classification.mp3',
    'mastery-celebration.mp3',
    'territory-mastery.mp3',
    'coronary-anatomy.mp3',
    'lad-territory.mp3',
    'lcx-territory.mp3',
    'multivessel-patterns.mp3',
    'posterior-stemi.mp3',
    'rca-territory.mp3',
    'right-ventricular-mi.mp3',
    'evolution-mastery.mp3',
    'mastery-celebration.mp3',
    'chronic-changes.mp3',
    'evolution-timeline.mp3',
    'hyperacute-phase.mp3',
    'q-wave-formation.mp3',
    'reperfusion-patterns.mp3',
    'st-elevation-phase.mp3',
    't-wave-inversion.mp3',
    'differential-mastery.mp3',
    'mastery-celebration.mp3',
    'stemi-mimics-intro.mp3',
    'brugada-syndrome.mp3',
    'clinical-context.mp3',
    'early-repolarization.mp3',
    'hyperkalemia-mimic.mp3',
    'lbbb-stemi-criteria.mp3',
    'pericarditis-pattern.mp3',
    'mastery-celebration.mp3',
    'risk-stratification-intro.mp3',
    'risk-stratification-mastery.mp3',
    'grace-score.mp3',
    'heart-score.mp3',
    'high-risk-features.mp3',
    'medication-strategies.mp3',
    'timi-risk-score.mp3',
    'treatment-pathways.mp3',
    'complications-mastery.mp3',
    'mastery-celebration.mp3',
    'arrhythmic-complications.mp3',
    'complications-overview.mp3',
    'papillary-muscle-rupture.mp3',
    'post-mi-heart-block.mp3',
    'post-mi-pericarditis.mp3',
    'ventricular-aneurysm.mp3',
    'ventricular-septal-defect.mp3',
    'basic-quiz-1.mp3',
    'basic-quiz-2.mp3',
    'clinical-application.mp3',
    'complex-rhythm-analysis.mp3',
    'differential-diagnosis.mp3',
    'mastery-celebration.mp3',
    'mastery-confirmation.mp3',
    'tachycardia-assessment.mp3',
    'mastery-celebration.mp3',
    'capture-beats.mp3',
    'capture-phenomena-detailed.mp3',
    'clinical-significance.mp3',
    'dissociation-concept.mp3',
    'ecg-recognition.mp3',
    'mechanisms-detailed.mp3',
    'types-and-causes.mp3',
    'integration-intro.mp3',
    'clinical-integration.mp3',
    'differential-diagnosis.mp3',
    'emergency-algorithm.mp3',
    'long-term-management.mp3',
    'module5-completion.mp3',
    'rhythm-spectrum.mp3',
    'treatment-priorities.mp3',
    'av-block-intro.mp3',
    'assessment-approach.mp3',
    'block-classification.mp3',
    'block-locations.mp3',
    'clinical-significance.mp3',
    'conduction-anatomy.mp3',
    'foundation-complete.mp3',
    'pr-interval-basics.mp3',
    'first-degree-intro.mp3',
    'first-degree-mastery.mp3',
    'causes-associations.mp3',
    'clinical-significance.mp3',
    'management-approach.mp3',
    'pr-measurement.mp3',
    'progression-risk.mp3',
    'recognition-criteria.mp3',
  ]);

  // Process each line
  for (let i = 1; i < lines.length; i++) {
    const line = lines[i];
    if (!line.trim()) continue;

    const columns = line.split('","');
    const fileName = columns[2]?.replace(/"/g, '');
    const mediaType = columns[1]?.replace(/"/g, '');

    // Keep non-audio files and audio files not marked for removal
    if (mediaType !== 'Audio' || !filesToRemove.has(fileName)) {
      optimizedLines.push(line);
    }
  }

  // Write optimized CSV
  fs.writeFileSync('ECGkid-Media-Tracking-Master-Enhanced.csv', optimizedLines.join('\n'));
  console.log(`âœ… Optimization complete! Removed ${filesToRemove.size} audio files`);
}

// Run optimization
optimizeAudioFiles();
